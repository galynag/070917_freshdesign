<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>freshdesign_testTask</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="//ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/flick/jquery-ui.css" />
    <link rel="stylesheet" href="style.css">
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

</head>
<body>
    <header class="navbar-fixed">
        <nav></nav>
    </header>
    <main class="center">
        <div class="row">
            <div class="progress col m6 s 12">
                <div class="determinate" style="width: 40%"></div>
            </div>
        </div>
        <div class="row">
            <form  class="col s12">
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">offline_pin</i>
                        <input  type="number" id="inn" autofocus required data-length="10" onload="calc()">
                        <label class="active" for="inn">ИНН</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">account_circle</i>
                        <input input type="text" required id="surname" data-length="100" maxlength="100" value=" ">
                        <label class="active" for="surname">Фамилия</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">account_circle</i>
                        <input input type="text" required id="name" data-length="100" maxlength="100" value=" ">
                        <label class="active" for="name">Имя</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">location_city</i>
                        <input class="ff_elem" type="text" id="f_elem_city" name="ff_nm_from[]" data-length="100" value=" "  maxlength="100">
                        <label class="active" for="f_elem_city">Город</label>
                    </div>
                </div>
            </form>
            <a class="btn-floating " href="index.html"><i class="material-icons">navigate_before</i></a>
            <a id="btn2-next" class="btn-floating" href="step3.html"><i class="material-icons">navigate_next</i></a>
        </div>
    </main>
    <script>
        //автозаполнение для поля Город
        $('#f_elem_city').autocomplete({
            source: function (request, response) {
                $.getJSON(
                    'http://gd.geobytes.com/AutoCompleteCity?callback=?&q='+request.term,
                    function (data) {
                        response(data);
                        console.log(data);
                    }
                );
            },
            minLength: 3, //автозаполнение запускается только после ввода пользователем не меньше 3 символов
            select: function (event, ui) {
                let selectedObj = ui.item;
                console.log(selectedObj);
                $('#f_elem_city').val(selectedObj.value);
                return false;
            },
            open: function () {
                $(this).removeClass('ui-corner-all').addClass('ui-corner-top');
            },
            close: function () {
                $(this).removeClass('ui-corner-top').addClass('ui-corner-all');
            }
        });
    </script>
    <script src="//js.cx/babel-core/browser.min.js"></script>
    <script  type="text/babel" src="main.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
</body>
</html>